import{s as De,n as Ue,r as He,o as ie,i as Ee}from"../chunks/scheduler.a03335a9.js";import{S as Se,i as Le,g as o,s as j,m as Re,h as u,x as N,c as y,j as Y,n as ze,f as q,k as l,l as ke,a as te,z as r,D as I,A as m,o as Me}from"../chunks/index.ccd29840.js";import{s as U}from"../chunks/supabaseClient.dfd487c3.js";import{g as Oe}from"../chunks/navigation.64c6ba14.js";function Te(n){let i,c,t;return{c(){i=o("img"),this.h()},l(f){i=u(f,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ee(i.src,c=n[1])||l(i,"src",c),l(i,"alt",t=n[0].name),l(i,"class","svelte-f49jrq")},m(f,a){te(f,i,a)},p(f,a){a&2&&!Ee(i.src,c=f[1])&&l(i,"src",c),a&1&&t!==(t=f[0].name)&&l(i,"alt",t)},d(f){f&&q(i)}}}function Be(n){let i,c="Your info",t,f,a,k,J="Email:",E,R,z=n[0].email+"",V,x,T,le="Number: ",M,b,W,$,D,ae="Full Name: ",O,C,ee,se,h,p="Role: ",v,_,g,B,F,ne="From Location: ",G,w,re,ce,K,me="Hobbies: ",X,A,oe,fe,Q,ve="Story: ",Z,P,ue,he,H,ge="Update info",pe,S,be="Home",_e,L,qe="Logout",de,Ce,d=n[1]&&Te(n);return{c(){i=o("h1"),i.textContent=c,t=j(),d&&d.c(),f=j(),a=o("grid"),k=o("h2"),k.textContent=J,E=j(),R=o("p"),V=Re(z),x=j(),T=o("h2"),T.textContent=le,M=o("p"),b=o("input"),$=j(),D=o("h2"),D.textContent=ae,O=o("p"),C=o("input"),se=j(),h=o("h2"),h.textContent=p,v=o("p"),_=o("input"),B=j(),F=o("h2"),F.textContent=ne,G=o("p"),w=o("input"),ce=j(),K=o("h2"),K.textContent=me,X=o("p"),A=o("input"),fe=j(),Q=o("h2"),Q.textContent=ve,Z=o("p"),P=o("input"),he=j(),H=o("button"),H.textContent=ge,pe=j(),S=o("button"),S.textContent=be,_e=j(),L=o("button"),L.textContent=qe,this.h()},l(s){i=u(s,"H1",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-e50trx"&&(i.textContent=c),t=y(s),d&&d.l(s),f=y(s),a=u(s,"GRID",{class:!0});var e=Y(a);k=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(k)!=="svelte-cqae4g"&&(k.textContent=J),E=y(e),R=u(e,"P",{class:!0});var je=Y(R);V=ze(je,z),je.forEach(q),x=y(e),T=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(T)!=="svelte-1uogoqt"&&(T.textContent=le),M=u(e,"P",{class:!0});var ye=Y(M);b=u(ye,"INPUT",{placeholder:!0,class:!0}),ye.forEach(q),$=y(e),D=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(D)!=="svelte-v7aibg"&&(D.textContent=ae),O=u(e,"P",{class:!0});var Ie=Y(O);C=u(Ie,"INPUT",{placeholder:!0,class:!0}),Ie.forEach(q),se=y(e),h=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(h)!=="svelte-e1zji0"&&(h.textContent=p),v=u(e,"P",{class:!0});var we=Y(v);_=u(we,"INPUT",{placeholder:!0,class:!0}),we.forEach(q),B=y(e),F=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(F)!=="svelte-wl2ldp"&&(F.textContent=ne),G=u(e,"P",{class:!0});var Ae=Y(G);w=u(Ae,"INPUT",{placeholder:!0,class:!0}),Ae.forEach(q),ce=y(e),K=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(K)!=="svelte-11zmpuw"&&(K.textContent=me),X=u(e,"P",{class:!0});var Pe=Y(X);A=u(Pe,"INPUT",{placeholder:!0,class:!0}),Pe.forEach(q),fe=y(e),Q=u(e,"H2",{class:!0,"data-svelte-h":!0}),N(Q)!=="svelte-16ose7z"&&(Q.textContent=ve),Z=u(e,"P",{class:!0});var Ne=Y(Z);P=u(Ne,"INPUT",{placeholder:!0,class:!0}),Ne.forEach(q),he=y(e),H=u(e,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(H)!=="svelte-14dr1o7"&&(H.textContent=ge),pe=y(e),S=u(e,"BUTTON",{style:!0,class:!0,"data-svelte-h":!0}),N(S)!=="svelte-71o8ax"&&(S.textContent=be),_e=y(e),L=u(e,"BUTTON",{style:!0,class:!0,"data-svelte-h":!0}),N(L)!=="svelte-4h3d86"&&(L.textContent=qe),e.forEach(q),this.h()},h(){l(i,"class","svelte-f49jrq"),l(k,"class","svelte-f49jrq"),l(R,"class","svelte-f49jrq"),l(T,"class","svelte-f49jrq"),l(b,"placeholder",W=n[0].player_number?"":"Add Info"),l(b,"class","svelte-f49jrq"),l(M,"class","svelte-f49jrq"),l(D,"class","svelte-f49jrq"),l(C,"placeholder",ee=n[0].full_name?"":"Add Info"),l(C,"class","svelte-f49jrq"),l(O,"class","svelte-f49jrq"),l(h,"class","svelte-f49jrq"),l(_,"placeholder",g=n[0].role?"":"Add Info"),l(_,"class","svelte-f49jrq"),l(v,"class","svelte-f49jrq"),l(F,"class","svelte-f49jrq"),l(w,"placeholder",re=n[0].from_location?"":"Add Info"),l(w,"class","svelte-f49jrq"),l(G,"class","svelte-f49jrq"),l(K,"class","svelte-f49jrq"),l(A,"placeholder",oe=n[0].hobbies?"":"Add Info"),l(A,"class","svelte-f49jrq"),l(X,"class","svelte-f49jrq"),l(Q,"class","svelte-f49jrq"),l(P,"placeholder",ue=n[0].story?"":"Add Info"),l(P,"class","svelte-f49jrq"),l(Z,"class","svelte-f49jrq"),l(H,"type","button"),l(H,"class","svelte-f49jrq"),ke(S,"background-color","var(--purps)"),l(S,"class","svelte-f49jrq"),ke(L,"background-color","var(--halter)"),l(L,"class","svelte-f49jrq"),l(a,"class","svelte-f49jrq")},m(s,e){te(s,i,e),te(s,t,e),d&&d.m(s,e),te(s,f,e),te(s,a,e),r(a,k),r(a,E),r(a,R),r(R,V),r(a,x),r(a,T),r(a,M),r(M,b),I(b,n[0].player_number),r(a,$),r(a,D),r(a,O),r(O,C),I(C,n[0].full_name),r(a,se),r(a,h),r(a,v),r(v,_),I(_,n[0].role),r(a,B),r(a,F),r(a,G),r(G,w),I(w,n[0].from_location),r(a,ce),r(a,K),r(a,X),r(X,A),I(A,n[0].hobbies),r(a,fe),r(a,Q),r(a,Z),r(Z,P),I(P,n[0].story),r(a,he),r(a,H),r(a,pe),r(a,S),r(a,_e),r(a,L),de||(Ce=[m(b,"input",n[6]),m(b,"change",n[7]),m(C,"input",n[8]),m(C,"change",n[9]),m(_,"input",n[10]),m(_,"change",n[11]),m(w,"input",n[12]),m(w,"change",n[13]),m(A,"input",n[14]),m(A,"change",n[15]),m(P,"input",n[16]),m(P,"change",n[17]),m(H,"click",n[4]),m(S,"click",n[18]),m(L,"click",n[19])],de=!0)},p(s,[e]){s[1]?d?d.p(s,e):(d=Te(s),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null),e&1&&z!==(z=s[0].email+"")&&Me(V,z),e&1&&W!==(W=s[0].player_number?"":"Add Info")&&l(b,"placeholder",W),e&1&&b.value!==s[0].player_number&&I(b,s[0].player_number),e&1&&ee!==(ee=s[0].full_name?"":"Add Info")&&l(C,"placeholder",ee),e&1&&C.value!==s[0].full_name&&I(C,s[0].full_name),e&1&&g!==(g=s[0].role?"":"Add Info")&&l(_,"placeholder",g),e&1&&_.value!==s[0].role&&I(_,s[0].role),e&1&&re!==(re=s[0].from_location?"":"Add Info")&&l(w,"placeholder",re),e&1&&w.value!==s[0].from_location&&I(w,s[0].from_location),e&1&&oe!==(oe=s[0].hobbies?"":"Add Info")&&l(A,"placeholder",oe),e&1&&A.value!==s[0].hobbies&&I(A,s[0].hobbies),e&1&&ue!==(ue=s[0].story?"":"Add Info")&&l(P,"placeholder",ue),e&1&&P.value!==s[0].story&&I(P,s[0].story)},i:Ue,o:Ue,d(s){s&&(q(i),q(t),q(f),q(a)),d&&d.d(s),de=!1,He(Ce)}}}function Fe(n,i,c){let t={},f="";ie(async()=>{const{data:h}=await U.auth.getSession();if(!h){console.error("No user logged in");return}c(0,t=h.session.user.email);const{data:p,error:v}=await U.from("main").select("name, email, usr_lvl").eq("email",h.session.user.email);if(p&&p.length>0){c(0,t={...t,...p[0]});const{data:_,error:g}=await U.from("rstr").select("player_number, full_name").eq("name",t.name);if(_&&_.length>0){c(0,t={...t,..._[0]});const{data:B,error:F}=await U.from("details").select("role, from_location, story, hobbies").eq("name",t.name);if(B&&B.length>0){c(0,t={...t,...B[0]});const ne=B[0];if(c(0,t={...t,usr_lvl:ne}),p&&p.length>0){const G=p[0].usr_lvl;console.log("Signed in usr_lvl from main:",G)}}else v&&console.error(v)}}await a()});async function a(){console.log("Fetching image for player:",t.name);const p=`https://janbwnvcsnjlwlxweqwp.supabase.co/storage/v1/object/public/profile_Pics/${`${t.name}.jpg`}`;console.log("Constructed image URL:",p),c(1,f=p),console.log("Selected player image:",f)}async function k(h,p){const v=U.auth.getSession();if(!v){console.error("No user logged in");return}const{data:_,error:g}=await U.from("main").update({[h]:p}).eq("email",v.email);g&&console.error(g),ie()}async function J(h,p){if(!U.auth.getSession()){console.error("No user logged in");return}const{data:_,error:g}=await U.from("rstr").update({[h]:p}).eq("name",t.name);g&&console.error(g),ie()}async function E(h,p){if(!U.auth.getSession()){console.error("No user logged in");return}const{data:_,error:g}=await U.from("details").update({[h]:p}).eq("name",t.name);g&&console.error(g),ie()}async function R(){await k("email",t.email),await J("name",t.name),await E("name",t.name)}function z(){U.auth.signOut(),window.location.href="/"}function V(){t.player_number=this.value,c(0,t)}const x=()=>J("player_number",t.player_number);function T(){t.full_name=this.value,c(0,t)}const le=()=>J("full_name",t.full_name);function M(){t.role=this.value,c(0,t)}const b=()=>E("role",t.role);function W(){t.from_location=this.value,c(0,t)}const $=()=>E("from_location",t.from_location);function D(){t.hobbies=this.value,c(0,t)}const ae=()=>E("hobbies",t.hobbies);function O(){t.story=this.value,c(0,t)}return[t,f,J,E,R,z,V,x,T,le,M,b,W,$,D,ae,O,()=>E("story",t.story),()=>Oe("/"),()=>z()]}class Qe extends Se{constructor(i){super(),Le(this,i,Fe,Be,De,{})}}export{Qe as component};
